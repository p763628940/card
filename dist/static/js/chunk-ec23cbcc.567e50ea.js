(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ec23cbcc"],{"1f8d":function(t,e,i){"use strict";var s=i("cedf"),a=i.n(s);a.a},"337f":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contents"},[i("div",{staticClass:"top"},[t.isA?i("div",{staticClass:"haierlogo"}):t._e(),t.isA?t._e():i("div"),i("div",{staticClass:"top_r"},t._l(t.titleData,(function(e,s){return i("div",{key:s,staticClass:"top_r_item",on:{click:function(i){return t.gourl(e)}}},[i("span",[t._v("\n                      "+t._s(e.text)+"\n                ")]),s<4?i("div",{staticClass:"top_r_itemline"}):t._e()])})),0)]),i("div",{staticClass:"card_con"},[i("div",{staticClass:"face",on:{click:t.preFace}},[i("img",{attrs:{src:t.imgsrc,alt:""},on:{error:t.setCango}})]),i("div",{staticClass:"name_con"},[i("span",{staticClass:"name_conl"},[t._v(t._s(t.userInfo.userName))]),i("span",{staticClass:"name_conr"},[t._v(t._s(t.userInfo.namePinYin))])]),i("div",{staticClass:"nu"},[t._v("\n            No."+t._s(t.userInfo.userId)+"\n        ")]),t.userInfo.userName?i("div",{staticClass:"tipbar"},[t._v(t._s(t.spname(t.userInfo.userOU)||"暂无"))]):t._e(),i("div",{staticClass:"tipbar"},[t._v(t._s(t.userInfo.depName||"暂无"))]),i("div",{staticClass:"mySwiper_box"},[i("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},[t._l(t.roullData,(function(e,s){return i("swiper-slide",{key:s,staticStyle:{cursor:"pointer"}},[i("div",{staticClass:"swiperimg_box"},[i("div",{staticClass:"swiperimgbox",on:{click:function(e){return t.showimg(s)}}},[e.url?t._e():i("div",{staticClass:"zz"},[i("div",{staticClass:"zzimg"}),i("div",{staticClass:"zztext"},[t._v("建设中")])]),e.url?i("vue-qr",{staticClass:"swiperimg",attrs:{text:e.url,margin:10,colorDark:t.colorDark,colorLight:"#fff",logoScale:.3,size:200,callback:t.test,qid:s}}):t._e()],1)])])})),i("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1),i("div",{staticClass:"roll_con"},t._l(t.roullData,(function(e,s){return i("div",{staticClass:"roll_con_item ",class:["item"+(s+1),t.checkindex==s?"roll_con_item_active":""],on:{click:function(e){return t.checktype(s)}}},[t._v(t._s(e.name)+"\n            ")])})),0),i("div",{staticClass:"btm"},[i("div",{staticClass:"btm_item"},[i("div",{staticClass:"btm_item_l phone"}),i("div",{staticClass:"btm_item_r"},[t._v(t._s(t.userInfo.phone||"暂无"))])]),i("div",{staticClass:"btm_item btm_item2"},[i("div",{staticClass:"btm_item_l mail"}),i("div",{staticClass:"btm_item_r"},[t._v(t._s(t.userInfo.haierMail||t.userInfo.usermail||"暂无"))])])])]),i("van-image-preview",{attrs:{images:t.images,"show-index":!1,closeable:!0},scopedSlots:t._u([{key:"index",fn:function(){},proxy:!0},{key:"cover",fn:function(){return[i("div",{staticClass:"mytext"},[t._v("\n                "+t._s(t.roullData[t.checkindex].name+"专用 二维码")+"\n            ")])]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),i("van-image-preview",{attrs:{images:t.faceImg,"show-index":!1,closeable:!0},scopedSlots:t._u([{key:"index",fn:function(){},proxy:!0},{key:"cover",fn:function(){return[i("div",{staticClass:"changeface",on:{click:t.goFace}},[t._v("\n                修改头像\n            ")])]},proxy:!0}]),model:{value:t.faceshow,callback:function(e){t.faceshow=e},expression:"faceshow"}}),t.showzhehao?i("div",{staticClass:"zhezhao"}):t._e()],1)},a=[],n=i("658f"),o=i.n(n),r=i("76a0"),c=i("8ca3"),l=i("28a2"),u=i("40f7"),h=i("2241");function d(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var f={name:"login",components:d({vueQr:o.a},l["a"].Component.name,l["a"].Component),data:function(){var t=this;return{activeitem:{},activeindex:"",payCode:"",showzhehao:!1,qrCode1:"",qrCode2:"",qrCode3:"",show:!1,index:0,images:[],faceshow:!1,faceImg:[],cango:!0,checkindex:3,imgurls:{},swiperOptions:{pagination:{el:".swiper-pagination"},on:{slideChange:function(){var e=t.$refs.mySwiper.$swiper,i=e.activeIndex;t.checkindex=i}}},roullData:[],titleData:[{text:"挂失",url:"https://hrssc.haier.net/app/scene/ygCard"},{text:"解挂",url:"https://hrssc.haier.net/app/scene/ygCard"},{text:"补卡",url:"https://hrssc.haier.net/app/scene/ygCard"},{text:"查询",url:"",type:4},{text:"充值",url:"http://newlapp.haier.net:9096/ihaierMobile/ccb/index.html?t=201912101529"}]}},created:function(){if(qing.call("setWebViewTitle",{title:"工卡"}),"notInDingTalk"===this.$dd.env.platform&&!c["a"].isYzjApp())return this.showzhehao=!0,void Object(r["MessageBox"])({title:"友情提示",message:"该应用只能在iHaier客户端访问！",confirmButtonText:"去下载"}).then((function(t){window.location.href="https://openapi.haier.net/mock/load.html"}));var t=this;c["a"].getuserInfs(t,this.getallQr)},computed:{isA:function(){return!!this.userInfo.userId&&-1==this.userInfo.userId.search("A")},swiper:function(){return this.$refs.mySwiper.$swiper},colorDark:function(){var t=this;return this.areaCode?1==this.detail.color?(t.witchColor="green","#007706"):(t.witchColor="red","#770008"):(t.witchColor="black","#000")},imgsrc:function(){return!!this.userInfo.userId&&u["a"]+"/workcard/ihaier/getFace?jobNumber="+this.userInfo.userId}},methods:{test:function(t,e){this.imgurls["img"+e]=t},spname:function(t){var e=t.split("/");return e.length<=3?e[e.length-2]:e[e.length-3]},getPayStatus:function(){var t=this;if(console.log(this.payCode),this.payCode){var e={jobNumber:this.userInfo.userId,payCode:encodeURIComponent(this.payCode)};this.$api.getPayStatus(e).then((function(e){var i=e.code;201!=i&&200!=i||t.getPayCode(t.activeitem,t.activeindex),301==i&&(clearInterval(t.t),h["a"].alert({title:"提示",message:"余额不足"}).then((function(){})))}))}},getallQr:function(){var t=this;this.$api.selectByInfoCode({jobNumber:this.userInfo.userId}).then((function(e){t.roullData=e,t.swiper.slideTo(3,1e3,!1),t.roullData.forEach((function(e,i){"A1"==e.code&&t.createPrintCode(e,i),"A2"==e.code&&t.createPrintCode(e,i),"A3"==e.code&&t.getPayCode(e,i),"A4"==e.code&&t.geturl(e,i)})),t.t=setInterval((function(){t.getPayStatus()}),2e3)}))},setCango:function(){this.cango=!1},preFace:function(){this.cango?(this.faceshow=!0,this.faceImg=[this.imgsrc]):this.goFace()},ImagePreviewing:function(t){Object(l["a"])([t])},showimg:function(t){var e=this.imgurls["img"+t];e&&(this.images=[e],this.show=!0)},gourl:function(t){4!=t.type?window.location.href=t.url:qing.call("gotoLightApp",{appId:"10296",appName:"团膳体验云"})},goFace:function(){this.isDD?window.location.href="https://hiface.haier.net/myface/newindex.html?showmenu=false":qing.call("gotoLightApp",{appId:"500000219",appName:"人脸识别"})},goScan:function(){c["a"].isYzjApp()?XuntongJSBridge.call("scanQRCode",{needResult:0},(function(t){})):this.$dd.biz.util.scan({onSuccess:function(t){window.location.href=t.text},onFail:function(t){}})},goto:function(t,e){this.$router.push({name:t})},createPrintCode:function(t,e){var i=this;this.$api.createPrintCode({jobNumber:this.userInfo.userId}).then((function(s){t.url=s,i.roullData.splice(e,1,t),console.log(i.roullData)}))},geturl:function(t,e){var i=this;this.$api.myUrl({validTime:500,entryTimes:10,jobNumber:this.userInfo.userId}).then((function(s){t.url=s.url,i.roullData.splice(e,1,t)})).catch((function(t){Toast(t)}))},getPayCode:function(t,e){var i=this;this.$api.getPayCode({jobNumber:this.userInfo.userId}).then((function(s){t.url=s,i.activeitem=t,i.activeindex=e,i.payCode=s,i.roullData.splice(activeindex,1,activeitem)}))},checktype:function(t){this.checkindex=t,console.log(this.roullData[t]),this.swiper.slideTo(t,1e3,!1)}},mounted:function(){}},p=f,m=(i("1f8d"),i("3aa0"),i("2877")),v=Object(m["a"])(p,s,a,!1,null,"71f74964",null);e["default"]=v.exports},"3aa0":function(t,e,i){"use strict";var s=i("523e"),a=i.n(s);a.a},"523e":function(t,e,i){},cedf:function(t,e,i){}}]);